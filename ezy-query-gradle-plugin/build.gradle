//abstract class GreetingToFileTask extends DefaultTask {
//
//    @OutputFile
//    abstract RegularFileProperty getDestination()
//
//    @TaskAction
//    def greet() {
//        def file = getDestination().get().asFile
//        file.parentFile.mkdirs()
//        file.write 'Hello!'
//    }
//}
//
//def greetingFile = objects.fileProperty()
//
//tasks.register('greet', GreetingToFileTask) {
//    destination = greetingFile
//}
//
//tasks.register('sayGreeting') {
//    dependsOn greet
//    doLast {
//        def file = greetingFile.get().asFile
//        println "${file.text} (file: ${file.name})"
//    }
//}
//
//greetingFile.set(layout.buildDirectory.file('hello.txt'))

plugins {
    id 'java-gradle-plugin'
}

ext {
    artifactId = 'ezy-query-gradle-plugin'
}

gradlePlugin {
    plugins {
        simplePlugin {
            id = 'io.github.kayr.gradle.ezyquery'
            implementationClass = 'io.github.kayr.gradle.ezyquery.EzyQueryPlugin'
        }
    }
}


dependencies {
    implementation gradleApi()
    implementation project(':ezy-query-codegen')
}
